<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>动态生成表格</title>
    <script type="text/javascript" src="../assets/js/zhongxia/loadAllCSS.js"></script>
    <style type="text/css">
    .edit {
        display: none;
    }
    
    .table {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
    }
    </style>
</head>

<body style="height:100%;">
    <div style="height:100%;">
        <!-- 表格(表格的容器设置了100%的高度,然后表格设置属性 fit:true ,即可自适应父容器高度  2015-07-22) -->
        <table class="table" id="table"></table>
        <!-- 编辑页面 -->
        <div id="tb_edit">a</div>
    </div>
    <!-- 引入需要用的JS -->
    <script type="text/javascript" src="../assets/js/zhongxia/zx_ALL.js"></script>
    <script type="text/javascript">
    /*页面加载完成触发*/
    $(function($) {
        //1. 获取表格配置参数生成表格
        var tcid = getQueryString("TCID");

        //2. 从数据库获取配置
        var url = "../Server/AjaxHandler/CRUDHandler.ashx";
        $.getJSON(url, {
            TCID: tcid
        }, function(json) {
            var tableConfig = json.tableConfig; 
            var tableFieldConfig = json.tableFieldConfig;
            console.log(json);
            zx_ALL.init("table", tableConfig, "tb_edit", tableFieldConfig);
        });
    });
    </script>
</body>

</html>
